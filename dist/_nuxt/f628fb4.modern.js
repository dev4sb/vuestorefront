(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{524:function(t,e,n){},525:function(t,e,n){},565:function(t,e,n){"use strict";n(524)},566:function(t,e,n){"use strict";n(525)},605:function(t,e,n){"use strict";n.r(e);n(23),n(49);var c=n(14),r=(n(32),n(4)),l={name:"SfStep",inject:["stepsData"],props:{name:{type:String,default:""}},computed:{internalName(){return this.stepsData?this.stepsData.name:null},index(){return this.stepsData?this.stepsData.index:null},active(){return this.internalName===this.name}},created(){this.stepsData.updateSteps(this.name)}},o=n(1),d=Object(o.a)(l,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"sf-step"},[t.active?t._t("default",null,{index:t.index}):t._e()],2)}),[],!1,null,null,null).exports;r.default.component("SfStep",d);var h={name:"SfSteps",components:{SfButton:c.a},model:{prop:"active",event:"change"},provide(){var t={};return Object.defineProperty(t,"index",{enumerable:!1,get:()=>this.active}),Object.defineProperty(t,"name",{enumerable:!1,get:()=>this.steps[this.active]}),Object.defineProperty(t,"updateSteps",{enumerable:!1,value:this.updateSteps}),{stepsData:t}},props:{active:{type:Number,default:0},canGoBack:{type:Boolean,default:!0}},data:()=>({steps:[]}),computed:{parsedSteps(){return this.steps?this.steps.map(((t,e)=>({index:e,step:t,done:e<this.active,disabled:!this.canGoBack&&e<this.active,current:e===this.active}))):[]},progress(){return{"--_steps-progress-width":"".concat(100/this.steps.length,"%"),"--_steps-progress-active-step":this.active+1}}},methods:{updateSteps(t){this.steps.includes(t)||this.steps.push(t)},stepClick(t){var{index:e,disabled:n}=t;n||this.$emit("change",e)}}},f=(n(565),Object(o.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sf-steps"},[n("div",{staticClass:"sf-steps__header"},[t._l(t.parsedSteps,(function(e){return t._t("steps",(function(){return[n("SfButton",{key:e.index,staticClass:"sf-button--pure",class:{"sf-steps__step":!0,"is-done":e.done,current:e.current,"is-disabled":e.disabled},attrs:{"data-testid":"steps-button"},on:{click:function(n){return t.stepClick(e)}}},[n("span",{staticClass:"sf-steps__title"},[t._v(t._s(e.step))])])]}),{stepClick:t.stepClick},{step:e})})),t._v(" "),n("div",{staticClass:"sf-steps__progress",style:t.progress,attrs:{"data-testid":"steps-progress"}})],2),t._v(" "),n("div",{staticClass:"sf-steps__content"},[t._t("default")],2)])}),[],!1,null,null,null).exports),v={name:"CartPreview"},m=Object(o.a)(v,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("b",[t._v("Please implement vendor-specific CartPreview component in the 'components/Checkout' directory")])}),[],!1,null,null,null).exports,_=n(0),S={shipping:"Shipping",billing:"Billing",payment:"Payment"},k={name:"Checkout",components:{SfButton:c.a,SfSteps:f,CartPreview:m},setup(){var t=Object(_.p)(),e=Object(_.q)(),n=Object(_.a)((()=>t.value.path.split("/").pop())),c=Object(_.a)((()=>Object.keys(S).findIndex((s=>s===n.value)))),r=Object(_.a)((()=>"thank-you"===n.value));return{handleStepClick:t=>{var n=Object.keys(S)[t];e.push("/checkout/".concat(n))},STEPS:S,currentStepIndex:c,isThankYou:r,currentStep:n}}},C=(n(566),Object(o.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"checkout"}},[n("div",{staticClass:"checkout"},[n("div",{staticClass:"checkout__main"},[t.isThankYou?n("nuxt-child"):n("SfSteps",{class:{checkout__steps:!0},attrs:{active:t.currentStepIndex},on:{change:t.handleStepClick}},t._l(t.STEPS,(function(t,e){return n("SfStep",{key:e,attrs:{name:t}},[n("nuxt-child")],1)})),1)],1),t._v(" "),t.isThankYou?t._e():n("div",{staticClass:"checkout__aside desktop-only"},[n("transition",{attrs:{name:"fade"}},[n("CartPreview",{key:"order-summary"})],1)],1)])])}),[],!1,null,"70f4f0f4",null));e.default=C.exports}}]);